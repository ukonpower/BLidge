# タスク完了時のチェックリスト

## コード変更後に実施すること

### 1. 動作確認

**必須:**
- [ ] Blenderでアドオンをリロード (`F3` → "Reload Scripts" または再起動)
- [ ] 変更した機能をBlender内で実際にテスト
- [ ] エラーがシステムコンソールに出力されていないか確認

**WebSocket機能を変更した場合:**
- [ ] WebSocketサーバーの起動/停止が正常に動作するか
- [ ] ブラウザからの接続が成功するか
- [ ] メッセージのブロードキャストが正常か

**エクスポート機能を変更した場合:**
- [ ] glTFエクスポートが正常に完了するか
- [ ] シーンデータJSONが正しいフォーマットで出力されるか
- [ ] ファイルパスが正しく解決されるか

**レンダラーを変更した場合:**
- [ ] 仮想メッシュが3D Viewに正しく表示されるか
- [ ] シェーディングモード切り替えで描画が適切に動作するか

### 2. コードスタイル確認

**手動チェック:**
- [ ] 命名規則に従っているか (Blenderクラスは`BLIDGE_*`形式)
- [ ] UI文字列とコメントが日本語で記述されているか
- [ ] 座標変換が必要な箇所で正しく`(x, z, -y)`変換されているか
- [ ] 新しいクラスを追加した場合、`__init__.py`の`classes`リストに追加したか

### 3. 登録システム確認

**PropertyGroupを追加した場合:**
- [ ] `globals/properties.py`の`classes`リストに追加
- [ ] `BLidgeProperties`で`bpy.types`に登録しているか

**Operator/Panel等を追加した場合:**
- [ ] `__init__.py`の`classes`リストに追加
- [ ] `bl_idname`, `bl_label`等の必須属性を定義しているか

### 4. モジュールリロード対応

**新しいモジュールを追加した場合:**
- [ ] `__init__.py`のリロードブロック (`if "bpy" in locals():`) に追加

### 5. 依存関係確認

**外部ライブラリを追加した場合:**
- [ ] `websocket-server`以外の依存関係は避ける (Blender環境の制約)
- [ ] 必要な場合、`lib/`ディレクトリへのインストール方法を文書化

### 6. ドキュメント更新

**重要な変更の場合:**
- [ ] `CLAUDE.md`に新機能や変更点を記載
- [ ] `README.md`が最新の使用方法を反映しているか確認

### 7. Git コミット

**コミット前:**
- [ ] `git status`で変更ファイルを確認
- [ ] 不要なファイル (`.pyc`, `.blend1`等) が含まれていないか確認
- [ ] コミットメッセージは変更内容を適切に説明しているか

## 自動化されていない作業

このプロジェクトには以下の自動化がありません:

- ユニットテスト (手動テストで確認)
- リンター/静的解析 (手動レビュー)
- コードフォーマッター (手動整形)
- CI/CD (手動デプロイ)

そのため、すべての品質確認は**手動で実施**する必要があります。

## デバッグのヒント

- Blenderのシステムコンソール (`Window > Toggle System Console`) でエラー確認
- `print()`デバッグを活用
- アドオンが有効化されない場合、`bl_info`の`blender`バージョンを確認
- WebSocket接続エラーの場合、ポートが既に使用されていないか確認 (`netstat -an | findstr 3100`)
